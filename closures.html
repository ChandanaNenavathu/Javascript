<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures</title>
</head>
   <script>
   // lexical Scoping 

   // Lexical scoping defines the scope of a variable by the position of that variable declared in the source code. For example:

   let name = 'John';
   function greeting() {
    let message = 'Hi';
    console.log(`${message} ${name}`);
   }
//-------------------------

   // According to lexical scoping, the scopes can be nested and the inner function can access the variables declared in its outer scope. For example:

   function greeting() {
    let message = 'hi';
    function sayhi() {
        console.log(message);
    }
    sayhi();
   }
   greeting();

   // --------------------------closures -----------------------

   function greetings(){
    let message = "Hi";
    function SayHi(){
        console.log(message);
    }
    return SayHi;
   }
   let Hi = greetings();
    Hi();

    // -----------------examples of closures -----------------

    function greet(message) {
        return function(name) {
            return message + " " + name;
        }
    }
    let sayHi = greet('Hi');
    let sayHello = greet('Hello');
    console.log(sayHi ('Chandu'));
    console.log(sayHello ('Chandu'));

    // -----------------------------------avaScript closures in a loop-------------------------

    for(var index = 1; index <=3; index++) {
        setTimeout(function ()  {
                console.log('after ' + index + ' second(s):' + index);
        }, index * 1000);
    }

    // ----------------using the IIFE Solution 

    for(var index = 1; index <=3; index++) {
        (function (index){
            setTimeout(function ()  {
                console.log('after ' + index + ' second(s):' + index);
        }, index * 1000);
        })(index);
    }

    // -------------------------------------------------------
    {
        var greetText = 'javascript';
        console.log(greetText)
    }
   
    console.log(greetText);

    //---------------------------------------
    
    function greeting() {
        let greetText = 'Hiiii'
        console.log(greetText);
    };
    greeting();
    greeting();

       // ----------------------------------------------
       let x = 10;
       function funcParent() {
            let a = 1;
         funcChild = function() {
            let b = 2
            funcGrandChild = function() {
                let c  = 3
                console.log('funcGrandChild' , x, a,b,c)
            }
            funcGrandChild()
            console.log('funcChild' , x, a,b)

        }
            funcChild()
            console.log('funcParent', x,a)
       }
       funcParent()

       //--------------------------------------------------------------------------
       function counter() {
        let count = 10;
        startcount = function(){
            console.log(count);
        }
        count++
        return startcount;
       }
       showCount = counter()
       showCount()

       //-------------------------------Creating Private Variables---------------------------------------------------------
    
       function makeCounter(counterName) {
        let count = 0;
        let name = counterName
        let counterObj = {
            increment : function() {
                ++count;
                console.log('%s : %d' , name,count)
                return count
            },
            decrement : function() {
                --count ;
                console.log(('%s : %d' , name, count))
                return count
            },
        }
        return counterObj
       }

       Counter1 = makeCounter('Counter1')

       Counter1.increment()
       Counter1.increment()
       Counter1.increment()
       Counter1.decrement()
       Counter1.decrement()










    </script>
</body>
</html>